# Hextris 微信小游戏

这是一个完全参考原版Hextris游戏逻辑实现的微信小游戏版本。

## 游戏说明

Hextris是一个六边形消除游戏，玩家需要控制中心六边形旋转，让相同颜色的方块连接在一起，当连接数量达到3个或以上时，这些方块会被消除并获得分数。

## 游戏特色

- **完全还原原版逻辑**：所有游戏机制、方块生成模式、消除逻辑都完全参考原版Hextris
- **多种方块生成模式**：包括随机生成、圆形生成、半圆生成、螺旋生成、交叉生成、双重生成等
- **连击系统**：快速消除方块可以获得连击加成
- **难度递增**：随着游戏进行，方块生成速度会逐渐加快
- **震动效果**：方块碰撞时会有震动反馈
- **分数系统**：消除方块数量和连击数都会影响得分

## 操作方式

- **触摸控制**：点击屏幕左半部分逆时针旋转六边形，点击右半部分顺时针旋转
- **键盘控制**（调试用）：
  - 左箭头键/A键：逆时针旋转
  - 右箭头键/D键：顺时针旋转
  - 下箭头键/S键：加速下落
  - 空格键：暂停/继续

## 文件结构

```
js/hextris/
├── settings.js      # 游戏设置和全局变量
├── Block.js         # 方块类
├── Hex.js           # 六边形类
├── wavegen.js       # 方块生成器
├── checking.js      # 方块消除逻辑
├── render.js        # 渲染逻辑
├── update.js        # 游戏更新逻辑
├── game.js          # 主游戏类
└── Text.js          # 文本效果类
```

## 核心类说明

### HextrisGame (game.js)
主游戏类，负责：
- 游戏初始化和状态管理
- 输入处理（触摸和键盘）
- 游戏循环控制
- 游戏结束处理

### Hex (Hex.js)
六边形类，负责：
- 六边形的绘制和旋转
- 方块碰撞检测
- 方块附着到六边形
- 震动效果

### Block (Block.js)
方块类，负责：
- 方块的绘制和动画
- 方块的下落逻辑
- 方块的透明度变化
- 方块的旋转动画

### waveGen (wavegen.js)
方块生成器，负责：
- 多种方块生成模式
- 难度递增逻辑
- 方块生成时机控制

### 渲染系统 (render.js)
负责：
- 游戏画面的绘制
- UI元素的显示
- 文本效果的渲染
- 背景和游戏区域的绘制

### 更新系统 (update.js)
负责：
- 游戏逻辑的更新
- 方块状态的更新
- 碰撞检测的处理
- 消除逻辑的执行

## 游戏状态

- **MENU (0)**：菜单状态
- **PLAYING (1)**：游戏进行中
- **PAUSED (2)**：游戏暂停
- **GAME_OVER (-1)**：游戏结束

## 技术特点

1. **模块化设计**：每个功能模块独立，便于维护和扩展
2. **ES6模块**：使用现代JavaScript模块系统
3. **微信小游戏API**：完全适配微信小游戏环境
4. **性能优化**：使用对象池和高效的渲染算法
5. **状态管理**：清晰的游戏状态管理机制

## 运行方式

1. 在微信开发者工具中打开项目
2. 确保项目配置正确（game.json等）
3. 点击预览或真机调试
4. 开始游戏！

## 注意事项

- 游戏完全参考原版Hextris的逻辑实现
- 所有游戏机制和视觉效果都尽可能还原
- 适配了微信小游戏的特性和限制
- 支持触摸和键盘两种操作方式

## 版本信息

- 基于原版Hextris游戏逻辑
- 适配微信小游戏平台
- 使用ES6模块化开发
- 完全中文化界面 